#!/bin/bash
script_dir=$(dirname -- "$(readlink -f -- "$0")")

# Check binary existence doesn't work because pyenv provide python2 shim.
if [[ -x $NMK_PYTHON ]]; then
    exec $NMK_PYTHON "$script_dir/nmk.py" "$@"
elif python3 --version > /dev/null 2>&1; then
    exec python3 "$script_dir/nmk.py" "$@"
elif python2 --version > /dev/null 2>&1; then
    exec python2 "$script_dir/nmk.py" "$@"
else
    exec "$script_dir/nmk.zsh" "$@"
fi
